webpackJsonp([0,2],[,,,,,,function(t,e,a){e=t.exports=a(2)(void 0),e.push([t.id,".table-wrap{margin:5px 0 0}",""])},function(t,e,a){e=t.exports=a(2)(void 0),e.push([t.id,"",""])},,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"pagination",props:["paginationData","currentPage"],computed:{},methods:{handleCurrentChange:function(t){this.$emit("getNextPageData",t)}},mounted:function(){},updated:function(){}}},function(t,e,a){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(18),n=o(r);e.default={name:"pkg2Table",components:{pagination:n.default},data:function(){return{}},props:{tableData:Array,tableMeta:Array,pagination:Object,currentPage:Number,loading:Boolean,tableHeight:{type:Number,default:450}},methods:{getNextPageData:function(t){this.$emit("getNextPageData",t)}},mounted:function(){}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{tableData:[],tableMeta:[],api:"",pagination:{},currentPage:1,loading:!0,tableHeight:450}},methods:{showIn:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.indexOf(this.$route.params.type)>-1&&e},currentParam:function(t){return this.$route.params.type===t},getNextPageData:function(t){this.currentPage=t,this.fetchData()},getInitData:function(t,e){var a=t.params.type;e.tableMeta=e.routeListData[a].tableMeta,e.api=e.routeListData[a].api},fetchData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.baseUrl+this.api,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.uid,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentPage,o=this;o.loading=!0,o.$http.post(t,{body:{uid:e,page:a}}).then(function(t){var e=t.body;for(var a in e)o[a]=e[a];o.loading=!1}).catch(function(t){o.$notify({message:t})})},tableHeightQuery:function(t){var e=this,a=[],o=+document.body.offsetHeight,r=!0,n=0;return function(){t.forEach(function(t,o){a[o]=e.getElement(t),r=!!a[o]&&r}),r&&(a.forEach(function(t){n+=+e.outerHeight(t)}),e.tableHeight=o-n-37)}},defaultHeight:function(){return this.tableHeightQuery(["#header","#nav2","#searchTable","#footer"])()}},beforeRouteEnter:function(t,e,a){a(function(e){e.getInitData(t,e),e.fetchData()})},beforeRouteUpdate:function(t,e,a){this.tableData=[],this.currentPage=1,this.getInitData(t,this),this.fetchData(),a(function(t){})},beforeRouteLeave:function(t,e,a){console.log("mixin内钩子调用成功"),a(function(t){})}}},,,,function(t,e,a){var o=a(6);"string"==typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);a(3)("79d63647",o,!0)},function(t,e,a){var o=a(7);"string"==typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);a(3)("da763ec4",o,!0)},,function(t,e,a){a(16);var o=a(1)(a(9),a(21),null,null);t.exports=o.exports},function(t,e,a){a(15);var o=a(1)(a(10),a(20),null,null);t.exports=o.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-wrap"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],attrs:{data:t.tableData,height:t.tableHeight,"element-loading-text":"新联为您加载数据中",border:!0}},[t._l(t.tableMeta,function(t){return a("el-table-column",{key:t,attrs:{"row-key":t,prop:t.prop,label:t.label,sortable:t.sortable,width:t.width,formatter:t.formatter,fixed:t.fixed}})}),t._v(" "),t._t("special"),t._v(" "),t._t("special2")],2),t._v(" "),a("pagination",{ref:"pagination",attrs:{paginationData:t.pagination,currentPage:t.currentPage,id:"footer"},on:{getNextPageData:t.getNextPageData}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{ref:"footer"},[a("el-pagination",{attrs:{layout:"total,prev,pager,next,jumper",total:t.paginationData.total,"page-size":t.paginationData.pageSize,"current-page":t.currentPage},on:{"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]}},,,,,,,,,,function(t,e,a){a(98);var o=a(1)(a(58),a(128),null,null);t.exports=o.exports},function(t,e,a){e=t.exports=a(2)(void 0),e.push([t.id,".userDetail-root{z-index:50;position:absolute;top:0;left:0;right:0;background-color:#fff;min-width:1000px}.userDetail-root .main-container{margin:25px auto 0}.userDetail-root nav{margin:15px 0}.userDetail-root nav ul{display:-webkit-box;display:-moz-box;display:box;display:-moz-flex;display:-ms-flexbox;display:flex;box-orient:horizontal;box-direction:normal;-moz-flex-direction:row;flex-direction:row;-ms-flex-direction:row;box-pack:start;-moz-justify-content:flex-start;-ms-justify-content:flex-start;-o-justify-content:flex-start;justify-content:flex-start;-ms-flex-pack:start;background-color:#f1f5fb}.userDetail-root nav ul li{cursor:pointer;border:1px solid #e1e8ed;background-color:#f1f5fb;font-size:16px;color:#66757f}.userDetail-root nav ul li:not(:first-child){border-left:none}.userDetail-root nav ul li.router-link-active{border-top:4px solid #0eb7fd;border-bottom:none;background-color:#fff}.userDetail-root nav ul li a{display:block;padding:26px}",""])},,function(t,e,a){e=t.exports=a(2)(void 0),e.push([t.id,"a.back[data-v-21e44be2]{position:absolute;top:0;bottom:0;right:0;width:45px;text-align:center;display:-webkit-box;display:-moz-box;display:box;display:-moz-flex;display:-ms-flexbox;display:flex;align-content:center;-ms-flex-line-pack:center;box-pack:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-ms-flex-pack:center;box-orient:vertical;box-direction:normal;-moz-flex-direction:column;flex-direction:column;-ms-flex-direction:column;font-size:40px;color:#ccc;cursor:pointer;transition:all .2s ease-in-out}a.back[data-v-21e44be2]:hover{color:#1f7ed0}",""])},function(t,e,a){e=t.exports=a(2)(void 0),e.push([t.id,".user-info[data-v-40afc668]{padding:20px 60px;text-align:center;display:-webkit-box;display:-moz-box;display:box;display:-moz-flex;display:-ms-flexbox;display:flex;box-orient:horizontal;box-direction:normal;-moz-flex-direction:row;flex-direction:row;-ms-flex-direction:row;box-pack:distribute;-moz-justify-content:space-around;-ms-justify-content:space-around;-o-justify-content:space-around;justify-content:space-around;-ms-flex-pack:distribute;border:1px solid #e1e8ed}.user-info .user-info-left[data-v-40afc668]{width:30%;padding-right:60px;border:1px solid #e1e8ed;border-top-width:0;border-left-width:0;border-bottom-width:0}.user-info .user-info-left p[data-v-40afc668]{margin-bottom:10px;color:#8f99a6;font-size:12px;line-height:1.5}.user-info .user-info-left .user-detail-avater[data-v-40afc668]{margin:10px 0}.user-info .user-info-right[data-v-40afc668]{width:80%;padding-left:60px}.user-info .user-info-right .el-row[data-v-40afc668]{text-align:left;border-bottom:1px solid #e1e8ed}.user-info .user-info-right .el-row[data-v-40afc668]:first-child{padding:2px 0 15px}.user-info .user-info-right .el-row[data-v-40afc668]:not(:first-child){line-height:50px}.user-info .user-info-right .el-col span[data-v-40afc668]:first-child{color:#8f99a6}.user-info .user-info-right .el-col span[data-v-40afc668]:last-child{color:#66757f}.user-info .user-info-right .el-col span[data-v-40afc668]{font-size:14px}",""])},function(t,e,a){e=t.exports=a(2)(void 0),e.push([t.id,".table-wrap-root{position:relative}.table-wrap-root .table-aside-btn{padding:10px 0;cursor:pointer;font-size:16px;width:30px;position:absolute;top:0;right:-30px;z-index:-1;background-color:#1f7ed0;text-align:center;line-height:1.3;border-top-right-radius:5px;border-bottom-right-radius:10px;border-style:none;outline:none;color:#fff}",""])},function(t,e,a){e=t.exports=a(2)(void 0),e.push([t.id,".user-detail-avater{margin:0 0 10px}.user-detail-avater img{max-width:100%;width:7rem;height:7rem;border-radius:50%;border:1px solid #e1e8ed}",""])},,,,,function(t,e,a){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(60),n=o(r);e.default={name:"aBack",props:["from"],mixins:[n.default],methods:{}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"asidBtn",props:["text","click"]}},,,,,,,,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"userAvater",props:{avaterSrc:{type:String,default:""}},data:function(){return{}},mounted:function(){}}},,,,function(t,e,a){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(121),n=o(r);e.default={name:"userDetailInfo",props:["userInfoData"],components:{userAvater:n.default},data:function(){return{}}}},,function(t,e,a){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(125),n=o(r),i=a(17),l=o(i),s=a(112),c=o(s),u=a(19),d=o(u),p=a(113),f=o(p),b=a(11),v=o(b);e.default={name:"userDetail",mixins:[v.default],components:{userDetailInfo:n.default,navList:l.default,aBack:c.default,pkg2Table:d.default,asideBtn:f.default},data:function(){return{uid:0,from:"",btnDisabled:!1,addCallBackForm:{server:"sryk",content:"",type:1},rules:{content:[{required:!0,message:"请输入回访内容",trigger:"blur"}]},userInfoData:{},routeListData:{"test-data":{text:"检测数据",api:"http://api.xltest.cn/sryk/test-data",tableMeta:[{prop:"time",label:"检测时间",sortable:!0},{prop:"serialNum",label:"设备序号",sortable:!0},{prop:"glycemic",label:"血糖值",sortable:!0,formatter:this.glycemicFormatter}]},"7timeReport":{text:"7次血糖评估报告",api:"http://api.xltest.cn/sryk/7timeReport",tableMeta:[{prop:"time",label:"发送时间",sortable:!0,width:200},{prop:"text",label:"发送内容",sortable:!1}]},healthReport:{text:"健康报告",api:"http://api.xltest.cn/sryk/healthReport",tableMeta:[{prop:"time",label:"提交时间",sortable:!0,width:200},{prop:"title",label:"标题",sortable:!1},{prop:"content",label:"内容",sortable:!1}]},server:{text:"客服",api:"http://api.xltest.cn/sryk/server",tableMeta:[{prop:"server",label:"客服",width:160},{prop:"user",label:"回访用户",width:160},{prop:"time",label:"回访时间",sortable:!0,width:200},{prop:"type",label:"回访形式",sortable:!0,width:160},{prop:"content",label:"回访内容"}]},doctorSuggest:{text:"医生建议",api:"http://api.xltest.cn/sryk/server",tableMeta:[{prop:"doctor",label:"医生",width:160},{prop:"time",label:"服务时间",sortable:!0,width:200},{prop:"content",label:"建议内容"}]},hospitalRecord:{text:"医院记录",api:"http://api.xltest.cn/sryk/server",tableMeta:[{prop:"time",label:"时间",sortable:!0,width:200},{prop:"hospital",label:"医院"},{prop:"doctor",label:"主管医生",width:160},{prop:"serverType",label:"服务类型"},{prop:"content",label:"建议内容"}]}},timeTypeOption:[{value:0,label:"凌晨"},{value:1,label:"早餐前"},{value:2,label:"早晨后"},{value:3,label:"午餐前"},{value:4,label:"午餐后"},{value:5,label:"晚餐前"},{value:6,label:"晚餐后"},{value:7,label:"睡前"}]}},computed:{},methods:{thisTableHeight:function(){return this.tableHeightQuery(["#info","#nav2","#footer"])()},showCallBackDialog:function(){this.$refs.callBack.open()},addCallBack:function(){var t=this,e=this.$refs.form;e.validateField("content",function(a){a||(t.btnDisabled=!0,t.$http({method:"post",url:"http://api.xltest.cn/sryk/addCallBack",body:t.addCallBackForm}).then(function(a){"1"===a.body&&(t.$notify({message:"成功添加回访！",type:"success",offset:200}),e.resetFields(),t.$refs.callBack.close(),t.currentPage=1,t.fetchData(),t.btnDisabled=!1)}))})},fetchInfoData:function(){var t=this;this.$http({method:"POST",url:"http://api.xltest.cn/sryk/user-detail",data:{uid:this.uid}}).then(function(e){t.userInfoData=e.body}).catch(function(e){t.$notify({message:"网络故障！"}),console.log(e)})},glycemicFormatter:function(t){return t.glycemic+"mmol/L"}},mounted:function(){var t=this;this.fetchInfoData(),window.onresize=this.throttle(function(){t.thisTableHeight()},200)},updated:function(){var t=this;t.$nextTick(function(){t.thisTableHeight()})},beforeUpdate:function(){},beforeRouteEnter:function(t,e,a){a(function(a){a.uid=t.query.uid,a.from=e.fullPath})},beforeRouteLeave:function(t,e,a){console.log("组件内钩子调用成功！"),a(function(t){})}}},,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{routeBack:function(){"/"===this.from?this.$router.push("/user/vip"):this.$router.go(-1)}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){var o=a(32);"string"==typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);a(3)("35d186a1",o,!0)},,function(t,e,a){var o=a(34);"string"==typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);a(3)("65aef68b",o,!0)},,,function(t,e,a){var o=a(35);"string"==typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);a(3)("1c1fe6cc",o,!0)},,function(t,e,a){var o=a(36);"string"==typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);a(3)("151031b6",o,!0)},function(t,e,a){var o=a(37);"string"==typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);a(3)("675ca5bd",o,!0)},,,,,,function(t,e,a){a(100);var o=a(1)(a(42),a(132),"data-v-21e44be2",null);t.exports=o.exports},function(t,e,a){a(105);var o=a(1)(a(43),a(140),null,null);t.exports=o.exports},,,,,,,,function(t,e,a){a(106);var o=a(1)(a(52),a(142),null,null);t.exports=o.exports},,,,function(t,e,a){a(103);var o=a(1)(a(56),a(136),"data-v-40afc668",null);t.exports=o.exports},,,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"userDetail-root"},[a("div",{staticClass:"main-container"},[a("user-detail-info",{attrs:{"user-info-data":t.userInfoData,id:"info"}}),t._v(" "),a("div",{staticClass:"user-health-info-root"},[a("nav",{attrs:{id:"nav2"}},[a("nav-list",{attrs:{routeListData:t.routeListData,replace:!0,tag:"li",query:{uid:this.uid}}})],1),t._v(" "),a("div",{staticClass:"table-wrap-root"},[a("pkg2-table",{attrs:{tableData:t.tableData,tableMeta:t.tableMeta,currentPage:t.currentPage,pagination:t.pagination,loading:t.loading,tableHeight:t.tableHeight},on:{getNextPageData:t.getNextPageData}},[a("template",{slot:"special"},[t.currentParam("test-data")?a("el-table-column",{attrs:{prop:"uid",label:"测试类型"},scopedSlots:t._u([["default",function(e){return[a("el-select",{model:{value:e.row.timeType,callback:function(t){e.row.timeType=t},expression:"scope.row.timeType"}},t._l(t.timeTypeOption,function(t){return a("el-option",{key:t,attrs:{label:t.label,value:t.value}})}))]}]])}):t._e(),t._v(" "),t.currentParam("healthReport")?a("el-table-column",{attrs:{label:"图片"},scopedSlots:t._u([["default",function(e){return[a("el-popover",{attrs:{trigger:"hover",placement:"left"}},[a("img",{attrs:{src:"",alt:"",src:e.row.big}}),t._v(" "),a("img",{attrs:{src:e.row.thumbnail,alt:""},slot:"reference"})])]}]])}):t._e()],1)],2),t._v(" "),a("aside-btn",{directives:[{name:"show",rawName:"v-show",value:t.currentParam("server"),expression:"currentParam('server')"}],attrs:{click:t.showCallBackDialog,text:"添加回访"}})],1)]),t._v(" "),a("a-back",{attrs:{from:t.from}}),t._v(" "),a("el-dialog",{ref:"callBack",attrs:{title:"添加回访",size:"tiny",modal:!1}},[a("el-form",{ref:"form",attrs:{model:t.addCallBackForm,rules:t.rules}},[a("el-form-item",{attrs:{label:"客服姓名"}},[a("el-input",{attrs:{value:t.addCallBackForm.server},model:{value:t.addCallBackForm.server,callback:function(e){t.addCallBackForm.server=e},expression:"addCallBackForm.server"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"回访内容",prop:"content"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.addCallBackForm.content,callback:function(e){t.addCallBackForm.content=e},expression:"addCallBackForm.content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"回访形式"}},[a("el-radio-group",{model:{value:t.addCallBackForm.type,callback:function(e){t.addCallBackForm.type=e},expression:"addCallBackForm.type"}},[a("el-radio",{attrs:{label:1}},[t._v("电话回访")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("短信回访")])],1)],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:t.btnDisabled},on:{click:t.addCallBack},slot:"footer"},[t._v("添加")])],1)],1)])},staticRenderFns:[]}},,,,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"back",attrs:{title:"返回"},on:{click:function(e){e.preventDefault(),t.routeBack(e)}}},[a("i",{staticClass:"el-icon-arrow-left"})])},staticRenderFns:[]}},,,,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-info-left"},[a("user-avater",{attrs:{"avater-src":t.userInfoData.avatersrc}}),t._v(" "),a("p",[t._v("注册时间："+t._s(t.userInfoData.regtime))]),t._v(" "),a("p",[t._v("最近一次登陆时间："+t._s(t.userInfoData.lastlogin))])],1),t._v(" "),a("div",{staticClass:"user-info-right"},[a("el-row",[a("el-col",{attrs:{span:9}},[a("span",[t._v("姓名：")]),t._v(" "),a("span",[t._v(t._s(t.userInfoData.name))])]),t._v(" "),a("el-col",{attrs:{span:9}},[a("span",[t._v("身高：")]),t._v(" "),a("span",[t._v(t._s(t.userInfoData.height)+"cm")])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:9}},[a("span",[t._v("性别：")]),t._v(" "),a("span",[t._v(t._s(t.userInfoData.sex))])]),t._v(" "),a("el-col",{attrs:{span:9}},[a("span",[t._v("体重：")]),t._v(" "),a("span",[t._v(t._s(t.userInfoData.weight)+"kg")])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:9}},[a("span",[t._v("出生日期：")]),t._v(" "),a("span",[t._v(t._s(t.userInfoData.birthday))])]),t._v(" "),a("el-col",{attrs:{span:15}},[a("span",[t._v("腰围：")]),t._v(" "),a("span",[t._v(t._s(t.userInfoData.waist))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:9}},[a("span",[t._v("联系电话：")]),t._v(" "),a("span",[t._v(t._s(t.userInfoData.phone))])]),t._v(" "),a("el-col",{attrs:{span:15}},[a("span",[t._v("住址：")]),t._v(" "),a("span",[t._v(t._s(t.userInfoData.address))])])],1)],1)])])],1)},staticRenderFns:[]}},,,,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"slide",mode:"out-in"}},[a("button",{staticClass:"table-aside-btn",on:{click:t.click}},[t._v(t._s(t.text))])])},staticRenderFns:[]}},,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-detail-avater"},[a("img",{attrs:{src:t.avaterSrc,alt:"用户头像",title:"用户头像"}})])},staticRenderFns:[]}}]);